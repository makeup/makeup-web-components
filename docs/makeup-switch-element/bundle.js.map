{"version":3,"file":"makeup-switch-element/bundle.js","mappings":"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","sources":["webpack://root/./packages/makeup-switch-element/dist/index.js","webpack://root/webpack/bootstrap","webpack://root/webpack/runtime/make namespace object","webpack://root/./docs/makeup-switch-element/index.compiled.js"],"sourcesContent":["// ../../node_modules/makeup-switch/dist/mjs/index.js\nvar defaultOptions = {\n  bem: {\n    control: \"switch__control\"\n  },\n  customElementMode: false\n};\nvar src_default = class {\n  constructor(el, selectedOptions) {\n    this._options = Object.assign({}, defaultOptions, selectedOptions);\n    this.el = el;\n    this._onClickListener = _onClick.bind(this);\n    this._onKeyDownListener = _onKeyDown.bind(this);\n    this._onMutationListener = _onMutation.bind(this);\n    if (this.disabled) {\n      this._focusableElement.setAttribute(\"tabindex\", \"-1\");\n    }\n    this.el.classList.add(\"switch--js\");\n    if (!this._options.customElementMode) {\n      this._mutationObserver = new MutationObserver(this._onMutationListener);\n      this._observeMutations();\n      this._observeEvents();\n    }\n  }\n  _observeMutations() {\n    if (!this._options.customElementMode) {\n      this._mutationObserver.observe(this._focusableElement, {\n        attributes: true,\n        childList: false,\n        subtree: false\n      });\n    }\n  }\n  _unobserveMutations() {\n    if (!this._options.customElementMode) {\n      this._mutationObserver.disconnect();\n    }\n  }\n  _observeEvents() {\n    this._focusableElement.addEventListener(\"click\", this._onClickListener);\n    this._focusableElement.addEventListener(\"keydown\", this._onKeyDownListener);\n  }\n  _unobserveEvents() {\n    this._focusableElement.removeEventListener(\"click\", this._onClickListener);\n    this._focusableElement.removeEventListener(\"keydown\", this._onKeyDownListener);\n  }\n  get _focusableElement() {\n    return this.el.querySelector(`.${this._options.bem.control}`);\n  }\n  set checked(isChecked) {\n    this._unobserveMutations();\n    this._focusableElement.setAttribute(\"aria-checked\", isChecked.toString());\n    this.el.dispatchEvent(new CustomEvent(\"makeup-switch-toggle\", {\n      composed: true,\n      detail: {\n        on: this.checked\n      }\n    }));\n    this._observeMutations();\n  }\n  get checked() {\n    return this._focusableElement.getAttribute(\"aria-checked\") === \"true\";\n  }\n  set disabled(isDisabled) {\n    this._unobserveMutations();\n    this._focusableElement.setAttribute(\"aria-disabled\", isDisabled.toString());\n    this._focusableElement.setAttribute(\"tabindex\", isDisabled ? \"-1\" : \"0\");\n    this._observeMutations();\n  }\n  get disabled() {\n    return this._focusableElement.getAttribute(\"aria-disabled\") === \"true\";\n  }\n  set labelledby(theId) {\n    this._unobserveMutations();\n    this._focusableElement.setAttribute(\"aria-labelledby\", theId);\n    if (this._options.customElementMode) {\n      const labellingEl = document.getElementById(this.labelledby);\n      if (labellingEl && labellingEl.innerText !== \"\") {\n        this.label = labellingEl.innerText;\n      }\n    }\n    this._observeMutations();\n  }\n  get labelledby() {\n    return this._focusableElement.getAttribute(\"aria-labelledby\");\n  }\n  get label() {\n    return this._focusableElement.getAttribute(\"aria-label\");\n  }\n  set label(theLabel) {\n    this._unobserveMutations();\n    this._focusableElement.setAttribute(\"aria-label\", theLabel);\n    this._observeMutations();\n  }\n  toggle() {\n    this.checked = !this.checked;\n  }\n  destroy() {\n    this._unobserveMutations();\n    this._unobserveEvents();\n    this._onClickListener = null;\n    this._onKeyDownListener = null;\n    this._onMutationListener = null;\n  }\n};\nfunction _onKeyDown(e) {\n  if (!this.disabled) {\n    switch (e.keyCode) {\n      case 32:\n        e.preventDefault();\n        this.toggle();\n        break;\n      case 37:\n        this.checked = false;\n        break;\n      case 39:\n        this.checked = true;\n        break;\n      default:\n        break;\n    }\n  }\n}\nfunction _onClick() {\n  if (!this.disabled) {\n    this.toggle();\n  }\n}\nfunction _onMutation(mutationsList) {\n  for (const mutation of mutationsList) {\n    if (mutation.type === \"attributes\") {\n      this.el.dispatchEvent(new CustomEvent(\"makeup-switch-mutation\", {\n        detail: {\n          attributeName: mutation.attributeName\n        }\n      }));\n    }\n  }\n}\n\n// src/style.js\nvar style_default = `\n<style>\n    .switch {\n        --switch-background-color-unchecked: #767676;\n        --switch-background-color-checked: #382aef;\n        --switch-background-color-disabled: #c7c7c7;\n        --switch-foreground-color: #fff;\n        }\n    @media (prefers-color-scheme: dark) {\n        .switch {\n            --switch-background-color-checked: #5192ff;\n        }\n    }\n    .switch {\n        -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n        height: 40px;\n        position: relative;\n        vertical-align: middle;\n    }\n    div.switch {\n        display: -webkit-box;\n        display: flex;\n    }\n    span.switch {\n        display: -webkit-inline-box;\n        display: inline-flex;\n    }\n    span.switch__button {\n        align-self: center;\n        background: gray none repeat scroll 0 0;\n        background-color: #767676;\n        background-color: var(--switch-background-color-unchecked, #767676);\n        border-radius: 400px;\n        color: transparent;\n        display: inline-block;\n        height: 24px;\n        position: relative;\n        text-indent: 100%;\n        -webkit-transition: left 0.15s ease-out 0s;\n        transition: left 0.15s ease-out 0s;\n        width: 40px;\n    }\n    span.switch__button::after {\n        background: white none repeat scroll 0 0;\n        background-color: #fff;\n        background-color: var(--switch-foreground-color, #fff);\n        border-radius: 50%;\n        content: \"\";\n        display: block;\n        height: 18px;\n        left: 3px;\n        position: absolute;\n        top: 3px;\n        -webkit-transform: translate3d(0, 0, 0);\n                transform: translate3d(0, 0, 0);\n        -webkit-transition: left 0.15s ease-out 0s;\n        transition: left 0.15s ease-out 0s;\n        width: 18px;\n    }\n    input.switch__control,\n        span.switch__control {\n        height: 24px;\n        left: 0;\n        margin: 0;\n        padding: 0;\n        position: absolute;\n        top: 8px;\n        width: 40px;\n        z-index: 1;\n    }\n    input.switch__control {\n        opacity: 0;\n    }\n    input.switch__control:focus + span.switch__button {\n        outline: 1px dotted #767676;\n    }\n    input.switch__control[disabled] + span.switch__button {\n        background-color: #c7c7c7;\n        background-color: var(--switch-background-color-disabled, #c7c7c7);\n    }\n    input.switch__control:checked + span.switch__button::after {\n        left: 19px;\n    }\n    span.switch__control[aria-disabled=\"true\"] + span.switch__button {\n        background-color: #c7c7c7;\n        background-color: var(--switch-background-color-disabled, #c7c7c7);\n    }\n    span.switch__control[aria-checked=\"true\"] + span.switch__button::after {\n        left: 19px;\n    }\n    input.switch__control:not([disabled]):checked + span.switch__button,\n    span.switch__control:not([aria-disabled=\"true\"])[aria-checked=\"true\"] + span.switch__button {\n        background-color: #3665f3;\n        background-color: var(--switch-background-color-checked, #3665f3);\n    }\n    @media screen and (-ms-high-contrast: active) {\n        input.switch__control {\n            opacity: 1;\n        }\n    }\n</style>\n`;\n\n// src/template.js\nvar template_default = `\n    <span class=\"switch\">\n        <span class=\"switch__control\" role=\"switch\" tabindex=\"0\" aria-checked=\"false\"></span>\n        <span class=\"switch__button\"></span>\n    </span>\n`;\n\n// src/index.js\nvar MakeupSwitchElement = class extends HTMLElement {\n  static get observedAttributes() {\n    return [\n      \"checked\",\n      \"disabled\",\n      \"label\",\n      \"labelledby\"\n    ];\n  }\n  connectedCallback(e) {\n    this.removeAttribute(\"skeleton\");\n    this.model._observeEvents();\n  }\n  disconnectedCallback(e) {\n    this.model._destroy();\n  }\n  attributeChangedCallback(attr, oldVal, newVal) {\n    switch (attr) {\n      case \"checked\":\n        this.model.checked = newVal !== null;\n        break;\n      case \"disabled\":\n        this.model.disabled = newVal !== null;\n        break;\n      case \"label\":\n        this.model.label = newVal;\n        break;\n      case \"labelledby\":\n        this.model.labelledby = newVal;\n        break;\n      default:\n        break;\n    }\n  }\n  constructor() {\n    super();\n    if (!this.shadowRoot) {\n      const shadowRoot = this.attachShadow({ mode: \"open\" });\n      const tmpl = document.createElement(\"template\");\n      tmpl.innerHTML = `\n  ${style_default}                \n  ${template_default}\n            `;\n      shadowRoot.appendChild(tmpl.content.cloneNode(true));\n    }\n    this.model = new src_default(this.shadowRoot.querySelector(\".switch\"), {\n      customElementMode: true\n    });\n  }\n};\nwindow.customElements.define(\"makeup-switch\", MakeupSwitchElement);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\"use strict\";\n\nvar _makeupSwitchElement = _interopRequireDefault(require(\"makeup-switch-element\"));\nrequire(\"../../packages/makeup-switch-element/src/index.css\");\nrequire(\"../../packages/makeup-switch-element/src/skeleton.css\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nwindow.onload = function () {\n  document.querySelectorAll('makeup-switch').forEach(function (el, i) {\n    console.log(el, i);\n    el.addEventListener('makeup-switch-toggle', function (e) {\n      console.log(e.type, e.detail);\n    });\n  });\n};"],"names":["defaultOptions","bem","control","customElementMode","src_default","constructor","el","selectedOptions","this","_options","Object","assign","_onClickListener","_onClick","bind","_onKeyDownListener","_onKeyDown","_onMutationListener","_onMutation","disabled","_focusableElement","setAttribute","classList","add","_mutationObserver","MutationObserver","_observeMutations","_observeEvents","observe","attributes","childList","subtree","_unobserveMutations","disconnect","addEventListener","_unobserveEvents","removeEventListener","querySelector","checked","isChecked","toString","dispatchEvent","CustomEvent","composed","detail","on","getAttribute","isDisabled","labelledby","theId","labellingEl","document","getElementById","innerText","label","theLabel","toggle","destroy","e","keyCode","preventDefault","mutationsList","mutation","type","attributeName","MakeupSwitchElement","HTMLElement","observedAttributes","connectedCallback","removeAttribute","model","disconnectedCallback","_destroy","attributeChangedCallback","attr","oldVal","newVal","super","shadowRoot","attachShadow","mode","tmpl","createElement","innerHTML","appendChild","content","cloneNode","window","customElements","define","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","r","Symbol","toStringTag","defineProperty","value","obj","__esModule","onload","querySelectorAll","forEach","i","console","log"],"sourceRoot":""}